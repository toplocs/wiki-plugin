import{importShared as t,__tla as fe}from"./__federation_fn_import-ofDdBDNE.js";import{u as se,_ as de,a as ce,b as ke,w as we,c as _e,__tla as he}from"./WikiEdit.vue_vue_type_script_setup_true_lang-DtYNM8A1.js";let pe,xe=Promise.all([(()=>{try{return fe}catch{}})(),(()=>{try{return he}catch{}})()]).then(async()=>{let P,T,W,M,$,D,L,h,g,y,O,F,H,b,x,J,j,U,ve,z,A,G,K,f,k,w,C,r,N,S,i,V,c,Q,R,X,Y,Z,ee,te,p,me,B,ae,re,I,ne,le,oe,ie,ue;({defineComponent:P}=await t("vue")),{toDisplayString:T,openBlock:W,createElementBlock:M}=await t("vue"),$={class:"flex items-center p-2 w-full border-t border-gray-100 dark:border-gray-700 hover:bg-blue-50 text-blue-500 dark:hover:bg-gray-800 transition duration-150 ease-in-out cursor-pointer"},D=P({__name:"WikiListItem",props:{title:{type:String,required:!0}},setup(n){return(u,s)=>(W(),M("span",$,T(n.title),1))}}),{defineComponent:L}=await t("vue"),{createTextVNode:h,withCtx:g,createVNode:y,unref:O,renderList:F,Fragment:H,openBlock:b,createElementBlock:x,resolveComponent:J,createBlock:j}=await t("vue"),U={className:"mb-4 min-w-[200px]"},{ref:ve,computed:z}=await t("vue"),A=L({__name:"SideBar",props:{parentId:String},setup(n){const u=n,{pages:s,setPage:q}=se(),_=z(()=>`/topic/${u.parentId}/wiki`);return(E,l)=>{const d=J("router-link");return b(),x("div",U,[y(de,null,{default:g(()=>l[0]||(l[0]=[h("Wiki pages:")])),_:1}),(b(!0),x(H,null,F(O(s),o=>(b(),j(d,{key:o.id,to:`${_.value}?page=${o.id}`},{default:g(()=>[y(D,{title:o.title},null,8,["title"])]),_:2},1032,["to"]))),128)),y(d,{to:`${_.value}/create`,class:"flex items-center p-2 w-full border-t border-gray-100 dark:border-gray-700 hover:bg-blue-50 text-blue-500 dark:hover:bg-gray-800 transition duration-150 ease-in-out cursor-pointer"},{default:g(()=>l[1]||(l[1]=[h(" Create a new Page ")])),_:1},8,["to"])])}}}),{defineComponent:G}=await t("vue"),{unref:K,toDisplayString:f,createTextVNode:k,withCtx:w,createVNode:C,openBlock:r,createBlock:N,createCommentVNode:S,createElementVNode:i,withModifiers:V,createElementBlock:c}=await t("vue"),Q={class:"p-6 border rounded-lg bg-white border-gray-300 dark:bg-gray-900 dark:border-gray-600 dark:text-white"},R={key:0},X={key:0,class:"mt-4 wiki-editor"},Y={class:"mt-2 space-x-2"},Z={key:1,class:"wiki-display"},ee=["innerHTML"],te={key:1},{ref:p,computed:me,watchEffect:B}=await t("vue"),ae=G({__name:"Main",props:{query:String},setup(n){const u=n,{wiki:s,setPage:q,editPage:_}=se(),E=p(null),l=p(!1),d=p(""),o=p(""),v=p(""),ge=()=>{l.value=!0},ye=()=>{l.value=!1},be=async()=>{var a;try{const e=new FormData(E.value??void 0);e.append("title",(a=s.value)==null?void 0:a.title),e.append("content",JSON.stringify(v.value));const m=await _(e);d.value="Wiki content was saved successfully!"}catch(e){console.error(e),o.value=e.response.data}};return B(async()=>{var a;await q((a=u.query)==null?void 0:a.page)}),B(async()=>{var a;d.value="",o.value="",v.value=JSON.parse(((a=s.value)==null?void 0:a.content)||"{}")}),(a,e)=>(r(),c("div",Q,[C(de,null,{default:w(()=>{var m;return[k(f((m=K(s))==null?void 0:m.title),1)]}),_:1}),v.value.length?(r(),c("div",R,[l.value?(r(),c("div",X,[d.value?(r(),N(ce,{key:0,color:"green"},{default:w(()=>[k(f(d.value),1)]),_:1})):S("",!0),o.value?(r(),N(ce,{key:1,color:"red"},{default:w(()=>[k(f(o.value),1)]),_:1})):S("",!0),i("form",{ref_key:"form",ref:E,onSubmit:V(be,["prevent"]),class:"w-full bg-white-500"},[C(ke,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=m=>v.value=m)},null,8,["modelValue"]),i("div",Y,[e[1]||(e[1]=i("button",{type:"submit",class:"px-4 py-2 rounded font-semibold transition-colors duration-200 bg-green-500 hover:bg-green-600 text-white"}," Save ",-1)),i("button",{type:"button",class:"px-4 py-2 rounded font-semibold transition-colors duration-200 bg-gray-500 hover:bg-gray-600 text-white",onClick:V(ye,["prevent"])}," Cancel ")])],544)])):(r(),c("div",Z,[i("div",{innerHTML:v.value,className:"mt-4 custom-editor"},null,8,ee),i("button",{class:"mt-4 px-4 py-2 rounded font-semibold transition-colors duration-200 bg-green-500 hover:bg-green-600 text-white",onClick:ge}," Edit the Wiki ")]))])):(r(),c("span",te," There is no content available "))]))}}),{defineComponent:re}=await t("vue"),{createVNode:I,createElementVNode:ne,withCtx:le,openBlock:oe,createBlock:ie}=await t("vue"),ue={class:"w-full mr-4"},pe=re({__name:"WikiView",props:{parentId:String,query:Object},setup(n){const u=n;return we(u.parentId),(s,q)=>(oe(),ie(_e,null,{default:le(()=>[ne("div",ue,[I(ae,{query:n.query},null,8,["query"])]),I(A,{parentId:u.parentId},null,8,["parentId"])]),_:1}))}})});export{pe as _,xe as __tla};
