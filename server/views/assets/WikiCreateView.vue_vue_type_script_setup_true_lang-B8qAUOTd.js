import{importShared as o,__tla as Ke}from"./__federation_fn_import-ofDdBDNE.js";import{__tla as Qe}from"./SideBar.vue_vue_type_script_setup_true_lang-sul328hT.js";import{_ as Xe,a as V,b as et,c as Je,d as tt,__tla as at}from"./WikiEdit.vue_vue_type_script_setup_true_lang-BXYALVrq.js";import{u as lt,_ as rt,__tla as ot}from"./Container.vue_vue_type_script_setup_true_lang-CpIxcP-x.js";import{_ as nt,__tla as it}from"./Title.vue_vue_type_script_setup_true_lang-kwpKaj4B.js";let Pe,ut=Promise.all([(()=>{try{return Ke}catch{}})(),(()=>{try{return Qe}catch{}})(),(()=>{try{return at}catch{}})(),(()=>{try{return ot}catch{}})(),(()=>{try{return it}catch{}})()]).then(async()=>{const{createElementVNode:He,openBlock:Re,createElementBlock:Ye}=await o("vue");function Ze(r,n){return Re(),Ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[He("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}let W,M,z,J,P,H,R,Y,Z,G,K,Q,X,ee,te,ae,S,le,re,oe,ne,ie,f,h,O,N,ue,se,de,ce,pe,me,ge,ye,_,ve,fe,he,T,we,ke,be,L,B,E,_e,xe,Ve,Se,Ne,Be,Ce,Ee,j,C,$,$e,Ie,qe,Ae,Oe,Te,I,x,w,F,q,A,U,v,Le,je,Fe,Ue,De,k,Ge,We;({defineComponent:W}=await o("vue")),{renderSlot:M,normalizeClass:z,openBlock:J,createElementBlock:P}=await o("vue"),{computed:H}=await o("vue"),R=W({__name:"Card",props:{className:{type:String,default:""}},setup(r){const n=r,m=H(()=>`relative w-full text-left ring-1 rounded-lg p-6 bg-white dark:bg-gray-800 ring-gray-300 dark:ring-gray-700 shadow-md dark:shadow-lg border-transparent dark:border-gray-600 dark:text-white ${n.className}
`);return(l,g)=>(J(),P("div",{class:z(m.value)},[M(l.$slots,"default")],2))}}),{defineComponent:Y}=await o("vue"),{createElementVNode:Z,openBlock:G,createElementBlock:K}=await o("vue"),Q={class:"relative w-full flex items-center min-w-[100px] outline-none rounded-md transition duration-100 border bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600"},X=["id","type","name","placeholder","disabled","value"],ee=Y({__name:"TextInput",props:{id:{type:String,required:!1},type:{type:String,default:"text"},name:{type:String,required:!1},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(r,{emit:n}){return(m,l)=>(G(),K("div",Q,[Z("input",{id:r.id,type:r.type,name:r.name,placeholder:r.placeholder,disabled:r.disabled,value:r.modelValue,onInput:l[0]||(l[0]=g=>m.$emit("update:modelValue",g.target.value)),class:"w-full bg-transparent focus:outline-none focus:ring-0 border-none text-sm rounded-lg transition duration-100 py-2 text-gray-900 dark:text-white pr-3 pl-3 placeholder-gray-400 dark:placeholder-gray-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,40,X)]))}}),{defineComponent:te}=await o("vue"),{vModelText:ae,createElementVNode:S,withDirectives:le,unref:re,createVNode:oe,renderList:ne,Fragment:ie,openBlock:f,createElementBlock:h,toDisplayString:O,createCommentVNode:N,renderSlot:ue}=await o("vue"),se=["name","placeholder"],de={class:"absolute inset-y-0 right-0 flex gap-2 items-center pr-2"},ce={key:0,class:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md shadow-lg",id:"select-options"},pe={class:"max-h-60 overflow-y-auto"},me=["onClick"],ge={key:0},ye={key:0,class:"px-4 py-2 text-gray-500"},{ref:_,onMounted:ve,onUnmounted:fe,watch:he}=await o("vue"),T=te({__name:"Search",props:{findOptions:{type:Function,required:!0},placeholder:{type:String,default:"Search"},name:{type:String,required:!0},modelValue:{type:[String,Object],default:""}},emits:["update:modelValue","selected"],setup(r,{emit:n}){const m=r,l=_(""),g=_(null),e=_(!1),i=_([]),c=_(null),y=n,t=async()=>{if(l.value.length<3)return i.value=[];i.value=await m.findOptions(l.value)},u=()=>{e.value=!0},p=()=>{e.value=!1},D=()=>{u()},s=d=>{g.value=d,l.value="",y("update:modelValue",d),y("selected",d),p()},a=d=>{c.value&&!c.value.contains(d.target)&&p()};return ve(()=>{document.addEventListener("mousedown",a)}),fe(()=>{document.removeEventListener("mousedown",a)}),he(l,()=>{t()}),(d,Me)=>(f(),h("div",{class:"relative w-full",ref_key:"selectContainer",ref:c},[le(S("input",{"onUpdate:modelValue":Me[0]||(Me[0]=b=>l.value=b),type:"text",name:r.name,placeholder:r.placeholder,onFocus:u,onInput:D,class:"w-full rounded-md border p-2 shadow-sm outline-none transition sm:text-sm border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 bg-white dark:bg-gray-950 hover:bg-gray-50 dark:hover:bg-gray-950/50 focus:ring-2 focus:ring-blue-200 focus:border-blue-500 dark:focus:ring-blue-700 dark:focus:border-blue-700"},null,40,se),[[ae,l.value]]),S("div",de,[oe(re(Ze),{class:"size-4 text-gray-400"})]),e.value?(f(),h("div",ce,[S("ul",pe,[(f(!0),h(ie,null,ne(i.value,b=>{var ze;return f(),h("li",{key:b.id,onClick:st=>s(b),class:"cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"},[S("span",null,O(b.title),1),b.parent?(f(),h("span",ge," ("+O((ze=b.parent)==null?void 0:ze.title)+") ",1)):N("",!0)],8,me)}),128)),i.value.length===0?(f(),h("li",ye," No search results ")):N("",!0),i.value.length===0?ue(d.$slots,"default",{key:1}):N("",!0)])])):N("",!0)],512))}}),{defineComponent:we}=await o("vue"),{createVNode:ke,renderList:be,Fragment:L,openBlock:B,createElementBlock:E,createBlock:_e,createElementVNode:xe}=await o("vue"),Ve={class:"mt-2 space-x-1 space-y-1"},{ref:Se}=await o("vue"),Ne=we({__name:"AddInterests",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(r,{emit:n}){const m=r,l=n,g="//toplocs.com",e=Se(m.modelValue),i=async t=>{try{return(await V.get(`${g}/api/interest?title=${t}`)).data}catch(u){console.error(u)}},c=t=>{e.value.includes(t)||(e.value.push(t),l("update:modelValue",e.value))},y=t=>{e.value=e.value.filter(u=>u!=t),l("update:modelValue",e.value)};return(t,u)=>(B(),E(L,null,[ke(T,{placeholder:"Add some interests ...",name:"selectedItem",findOptions:i,onSelected:c}),xe("div",Ve,[(B(!0),E(L,null,be(e.value,p=>(B(),E("span",null,[(B(),_e(Xe,{key:p.id,title:p.title,remove:()=>y(p)},null,8,["title","remove"]))]))),256))])],64))}}),{defineComponent:Be}=await o("vue"),{createVNode:Ce,renderList:Ee,Fragment:j,openBlock:C,createElementBlock:$,createBlock:$e,createElementVNode:Ie}=await o("vue"),qe={class:"mt-2 space-x-1 space-y-1"},{ref:Ae}=await o("vue"),Oe=Be({__name:"AddLocations",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(r,{emit:n}){const m=r,l=n,g="//toplocs.com",e=Ae(m.modelValue),i=async t=>{try{return(await V.get(`${g}/api/location?title=${t}`)).data}catch(u){console.error(u)}},c=t=>{e.value.includes(t)||(e.value.push(t),l("update:modelValue",e.value))},y=t=>{e.value=e.value.filter(u=>u!=t),l("update:modelValue",e.value)};return(t,u)=>(C(),$(j,null,[Ce(T,{placeholder:"Add some locations ...",name:"selectedItem",findOptions:i,onSelected:c}),Ie("div",qe,[(C(!0),$(j,null,Ee(e.value,p=>(C(),$("span",null,[(C(),$e(et,{key:p.id,title:p.title,remove:()=>y(p)},null,8,["title","remove"]))]))),256))])],64))}}),{defineComponent:Te}=await o("vue"),{createTextVNode:I,withCtx:x,createVNode:w,toDisplayString:F,openBlock:q,createBlock:A,createCommentVNode:U,createElementVNode:v,withModifiers:Le}=await o("vue"),je={class:"w-full"},Fe={className:"mb-2"},Ue={class:"mb-2"},De={class:"mb-2"},{ref:k,inject:Ge,onMounted:We}=await o("vue"),Pe=Te({__name:"WikiCreateView",props:{interest:{type:String,default:""},location:{type:String,default:""}},setup(r){const n=r,m="//toplocs.com:3002",l="//toplocs.com";lt();const g=k(null),e=k([]),i=k([]),c=k(""),y=k(""),t=k(`<h2>
      Welcome to the Wiki
    </h2>

    <p>
      This is a simple <em>wiki</em> page made for your <strong>text editor</strong>. It includes basic text styles that you would expect from any modern editor. But there\u2019s more than just text. Take a look at the lists below:
    </p>

    <ul>
      <li>
        A standard bullet point \u2026
      </li>
      <li>
        \u2026 with two items, just for fun.
      </li>
    </ul>

    <p>
      Pretty cool, right? But that\u2019s not all! Here\u2019s a code block for you to try:
    </p>

    <pre><code class="language-js">function greet() {
      console.log("Hello, world!");
    }</code></pre>

    <p>
      Nice, isn\u2019t it? Don\u2019t stop there, explore more features by trying out different options. Maybe even create some more code or lists of your own.
    </p>

    <blockquote>
      "This wiki page looks fantastic, keep up the good work!" \u{1F44F}
      <br />
      \u2014 Your Mentor
    </blockquote>

  `),u=async s=>{try{return(await V.get(`${l}/api/interest/byId/${s}`)).data}catch(a){console.error(a)}},p=async s=>{try{return(await V.get(`${l}/api/location/byId/${s}`)).data}catch(a){console.error(a)}},D=async()=>{try{if(c.value.length)return;const s=new FormData(g.value??void 0);s.append("content",JSON.stringify(t.value)),s.append("interests",JSON.stringify(e.value)),s.append("locations",JSON.stringify(i.value));const a=await V.post("/api/wiki",s);return c.value="Wiki content was saved successfully!",a.data}catch(s){console.error(s),y.value=s.response.data}};return We(async()=>{n.interest.length&&e.value.push(await u(n.interest)),n.location.length&&i.value.push(await p(n.location))}),V.defaults.baseURL=m,(s,a)=>(q(),A(rt,null,{default:x(()=>[v("div",je,[w(R,{className:"space-y-4"},{default:x(()=>[w(nt,null,{default:x(()=>a[3]||(a[3]=[I(" Creating a new wiki page: ")])),_:1}),v("form",{ref_key:"form",ref:g,onSubmit:Le(D,["prevent"])},[c.value?(q(),A(Je,{key:0,color:"green"},{default:x(()=>[I(F(c.value),1)]),_:1})):U("",!0),y.value?(q(),A(Je,{key:1,color:"red"},{default:x(()=>[I(F(y.value),1)]),_:1})):U("",!0),v("div",Fe,[a[4]||(a[4]=v("label",{for:"title",class:"block text-gray-900 dark:text-gray-100 font-medium text-sm mb-2"}," Wiki Page Title ",-1)),w(ee,{type:"text",id:"title",name:"title",autoComplete:"title",placeholder:"The wiki page title"})]),v("div",Ue,[w(Ne,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=d=>e.value=d)},null,8,["modelValue"])]),v("div",De,[w(Oe,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=d=>i.value=d)},null,8,["modelValue"])]),w(tt,{modelValue:t.value,"onUpdate:modelValue":a[2]||(a[2]=d=>t.value=d)},null,8,["modelValue"]),a[5]||(a[5]=v("div",{class:"mt-2 space-x-2"},[v("button",{type:"submit",class:"px-4 py-2 rounded font-semibold transition-colors duration-200 bg-green-500 hover:bg-green-600 text-white"}," Create ")],-1))],544)]),_:1})])]),_:1}))}})});export{Pe as _,ut as __tla};
