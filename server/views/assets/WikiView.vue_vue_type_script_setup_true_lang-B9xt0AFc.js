import{importShared as c,__tla as x}from"./__federation_fn_import-ofDdBDNE.js";import{_ as B,__tla as C}from"./SideBar.vue_vue_type_script_setup_true_lang-sul328hT.js";import{a as h,__tla as L}from"./WikiEdit.vue_vue_type_script_setup_true_lang-BXYALVrq.js";import{u as U,_ as $,__tla as b}from"./Container.vue_vue_type_script_setup_true_lang-CpIxcP-x.js";import{__tla as E}from"./Title.vue_vue_type_script_setup_true_lang-kwpKaj4B.js";import{_ as I,__tla as N}from"./Main.vue_vue_type_script_setup_true_lang-D5_yqbrv.js";let k,R=Promise.all([(()=>{try{return x}catch{}})(),(()=>{try{return C}catch{}})(),(()=>{try{return L}catch{}})(),(()=>{try{return b}catch{}})(),(()=>{try{return E}catch{}})(),(()=>{try{return N}catch{}})()]).then(async()=>{let u,l,s,m,p,d,v,i,f,t,y,w;({defineComponent:u}=await c("vue")),{createVNode:l,createElementVNode:s,withCtx:m,openBlock:p,createBlock:d}=await c("vue"),v={class:"w-full mr-4"},{ref:i,computed:f,inject:t,watchEffect:y,onMounted:w}=await c("vue"),k=u({__name:"WikiView",setup(j){const g="//toplocs.com:3002";U(),t("profile");const o=t("interest"),n=t("location"),P=t("tab"),_=i(""),r=i([]),S=f(()=>{const a=new URLSearchParams;return o.value&&a.append("interest",o.value.id),n.value&&a.append("location",n.value.id),`/wiki/create${a.toString()?"?"+a.toString():""}`}),V=async a=>{try{return(await h.get(`/api/wiki/pages/${a}`)).data}catch(e){console.error(e)}},W=a=>{_.value=a};return w(async()=>{var a,e;r.value=await V(((a=o.value)==null?void 0:a.id)||((e=n.value)==null?void 0:e.id)),r.value.length&&(_.value=r.value[0].id),P.value="Wiki"}),h.defaults.baseURL=g,(a,e)=>(p(),d($,null,{default:m(()=>[s("div",v,[l(I,{wikiId:_.value},null,8,["wikiId"])]),l(B,{wikiPages:r.value,href:S.value,onSelectWikiPage:W},null,8,["wikiPages","href"])]),_:1}))}})});export{k as _,R as __tla};
