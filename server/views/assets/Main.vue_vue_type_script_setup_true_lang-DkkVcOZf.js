import{importShared as f,__tla as F}from"./__federation_fn_import-ofDdBDNE.js";import{u as P,_ as q,__tla as z}from"./wikiProvider-BJSTW4jN.js";import{b as B,c as U,__tla as $}from"./WikiEdit.vue_vue_type_script_setup_true_lang-V5x7jHTk.js";let D,j=Promise.all([(()=>{try{return F}catch{}})(),(()=>{try{return z}catch{}})(),(()=>{try{return $}catch{}})()]).then(async()=>{let h,k,s,u,c,m,t,p,y,a,_,l,w,x,N,C,S,V,E,r,H,M;({defineComponent:h}=await f("vue")),{unref:k,toDisplayString:s,createTextVNode:u,withCtx:c,createVNode:m,openBlock:t,createBlock:p,createCommentVNode:y,createElementVNode:a,withModifiers:_,createElementBlock:l}=await f("vue"),w={class:"p-6 border rounded-lg bg-white border-gray-300 dark:bg-gray-900 dark:border-gray-600 dark:text-white"},x={key:0},N={key:0,class:"mt-4 wiki-editor"},C={class:"mt-2 space-x-2"},S={key:1,class:"wiki-display"},V=["innerHTML"],E={key:1},{ref:r,computed:H,watchEffect:M}=await f("vue"),D=h({__name:"Main",setup(A){const{wiki:g,editPage:J}=P(),T=r(null),b=r(!1),d=r(""),v=r(""),o=r(""),L=()=>{b.value=!0},O=()=>{b.value=!1},W=async()=>{var n;try{const e=new FormData(T.value??void 0);e.append("title",(n=g.value)==null?void 0:n.title),e.append("content",JSON.stringify(o.value));const i=await J(e);d.value="Wiki content was saved successfully!"}catch(e){console.error(e),v.value=e.response.data}};return M(async()=>{var n;d.value="",v.value="",o.value=JSON.parse(((n=g.value)==null?void 0:n.content)||"{}")}),(n,e)=>(t(),l("div",w,[m(q,null,{default:c(()=>{var i;return[u(s((i=k(g))==null?void 0:i.title),1)]}),_:1}),o.value.length?(t(),l("div",x,[b.value?(t(),l("div",N,[d.value?(t(),p(B,{key:0,color:"green"},{default:c(()=>[u(s(d.value),1)]),_:1})):y("",!0),v.value?(t(),p(B,{key:1,color:"red"},{default:c(()=>[u(s(v.value),1)]),_:1})):y("",!0),a("form",{ref_key:"form",ref:T,onSubmit:_(W,["prevent"]),class:"w-full bg-white-500"},[m(U,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=i=>o.value=i)},null,8,["modelValue"]),a("div",C,[e[1]||(e[1]=a("button",{type:"submit",class:"px-4 py-2 rounded font-semibold transition-colors duration-200 bg-green-500 hover:bg-green-600 text-white"}," Save ",-1)),a("button",{type:"button",class:"px-4 py-2 rounded font-semibold transition-colors duration-200 bg-gray-500 hover:bg-gray-600 text-white",onClick:_(O,["prevent"])}," Cancel ")])],544)])):(t(),l("div",S,[a("div",{innerHTML:o.value,className:"mt-4 custom-editor"},null,8,V),a("button",{class:"mt-4 px-4 py-2 rounded font-semibold transition-colors duration-200 bg-green-500 hover:bg-green-600 text-white",onClick:L}," Edit the Wiki ")]))])):(t(),l("span",E,"There is no content available"))]))}})});export{D as _,j as __tla};
